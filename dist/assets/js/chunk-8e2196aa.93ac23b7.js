(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e2196aa"],{8253:function(e,t,o){"use strict";o("e7bd")},e7bd:function(e,t,o){},fb68:function(e,t,o){"use strict";o.r(t);var l=o("7a23"),a={key:0},n=Object(l["createTextVNode"])("点击上传图片"),c={class:"show"},r={key:0,class:"half-width"},u=["src"],d={key:1,class:"result"};function p(e,t,o,p,i,s){var b=Object(l["resolveComponent"])("a-button"),j=Object(l["resolveComponent"])("a-upload");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[o.previewUrl?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",a,[Object(l["createVNode"])(j,{"before-upload":s.handleBeforeUpload,"show-upload-list":!1},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(b,null,{default:Object(l["withCtx"])((function(){return[n]})),_:1})]})),_:1},8,["before-upload"])])),Object(l["createElementVNode"])("div",c,[o.previewUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",r,[Object(l["createElementVNode"])("img",{src:o.previewUrl,alt:"Preview",class:"uploaded-image"},null,8,u)])):Object(l["createCommentVNode"])("",!0),o.uploadResult?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",d,[Object(l["createElementVNode"])("p",null,"种类: "+Object(l["toDisplayString"])(o.uploadResult.class),1),Object(l["createElementVNode"])("p",null,"概率: "+Object(l["toDisplayString"])(o.uploadResult.probability),1),Object(l["createElementVNode"])("p",null,"治疗方法："+Object(l["toDisplayString"])(o.uploadResult.zhiliao),1)])):Object(l["createCommentVNode"])("",!0)])])}o("d3b7");var i=o("39ab"),s=o("5efb"),b=o("b558"),j={components:{"a-upload":i["b"],"a-button":s["a"],"a-textarea":b["a"].TextArea},data:function(){return{uploadButton:!0}},props:{previewUrl:String,uploadResult:Object},methods:{handleBeforeUpload:function(e){var t=this,o=new FileReader;o.readAsDataURL(e),o.onload=function(){t.$emit("update:previewUrl",o.result)};var l=new FormData;l.append("url",e),fetch("http://5dead403.r5.cpolar.top",{method:"POST",body:l}).then((function(e){if(e.ok)return e.json();console.error("上传图片失败"),alert("上传图片失败"),t.uploadResult=null})).then((function(e){t.$emit("update:uploadResult",e),console.log("后端响应:",e)})).catch((function(e){console.error("上传图片时出现错误:",e)})),this.uploadButton=!this.uploadButton}}},O=(o("8253"),o("d959")),f=o.n(O);const m=f()(j,[["render",p],["__scopeId","data-v-6d289f97"]]);t["default"]=m}}]);
//# sourceMappingURL=chunk-8e2196aa.93ac23b7.js.map