{"version":3,"sources":["webpack:///./src/pages/m3/Find.vue?388c","webpack:///./src/pages/m3/Find.vue","webpack:///./src/pages/m3/Find.vue?a9e3"],"names":["class","_createElementBlock","$props","_hoisted_1","_createVNode","_component_a_upload","before-upload","$options","show-upload-list","_component_a_button","_createElementVNode","src","alt","_toDisplayString","probability","zhiliao","components","Upload","Button","Input","TextArea","data","uploadButton","props","previewUrl","String","uploadResult","Object","methods","handleBeforeUpload","file","reader","FileReader","readAsDataURL","onload","$emit","result","formData","FormData","append","fetch","method","body","then","response","ok","json","console","error","alert","log","catch","this","__exports__","render"],"mappings":"2IAAA,W,kGCK0B,U,GAIbA,MAAM,Q,SAEgBA,MAAM,c,mBAKJA,MAAM,U,oJAfvCC,gCAuBM,YArBUC,aAAZ,wCAAYA,yBAAZD,gCAIM,MAAAE,EAAA,CAHFC,yBAEWC,EAAA,CAFAC,gBAAeC,qBAAqBC,oBAAkB,GAAjE,C,8BACI,iBAA2B,CAA3BJ,yBAA2BK,EAAA,M,8BAAjB,iBAAM,O,eADpB,wBAKJC,gCAaM,MAbN,EAaM,CAXSR,uCAAXD,gCAEM,MAFN,EAEM,CADFS,gCAA8D,OAAxDC,IAAKT,aAAYU,IAAI,UAAUZ,MAAM,kBAA3C,aADJ,uCAKWE,yCAAXD,gCAKM,MALN,EAKM,CAJFS,gCAAmC,SAAhC,OAAIG,6BAAGX,eAAaF,OAAK,GAC5BU,gCAAyC,SAAtC,OAAIG,6BAAGX,eAAaY,aAAW,GAClCJ,gCAAsC,SAAnC,QAAKG,6BAAGX,eAAaa,SAAO,MAHnC,2C,kDAcG,GACXC,WAAY,CACR,WAAYC,OACZ,WAAYC,OACZ,aAAcC,OAAMC,UAGxBC,KAPW,WAQP,MAAO,CAIHC,cAAc,IAGtBC,MAAO,CACHC,WAAYC,OACZC,aAAcC,QAElBC,QAAS,CAELC,mBAFK,SAEcC,GAAM,WAEfC,EAAS,IAAIC,WACnBD,EAAOE,cAAcH,GACrBC,EAAOG,OAAS,WACZ,EAAKC,MAAM,oBAAqBJ,EAAOK,SAI3C,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,MAAOT,GAGvBU,MAAM,iCAAkC,CACpCC,OAAQ,OACRC,KAAML,IAELM,MAAK,SAACC,GACH,GAAIA,EAASC,GAET,OAAOD,EAASE,OAGhBC,QAAQC,MAAM,UACdC,MAAM,UACN,EAAKvB,aAAe,QAG3BiB,MAAK,SAACP,GACH,EAAKD,MAAM,sBAAuBC,GAElCW,QAAQG,IAAI,QAASd,MAExBe,OAAM,SAACH,GACJD,QAAQC,MAAM,aAAcA,MAGpCI,KAAK9B,cAAgB8B,KAAK9B,gB,iCCjFtC,MAAM+B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"assets/js/chunk-3c12c59e.922c4ac7.js","sourcesContent":["export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Find.vue?vue&type=style&index=0&id=10dfcd8e&scoped=true&lang=css\"","<template>\n    <div>\n        <!-- 使用 antd Upload 组件来实现文件上传，并预览图片 -->\n        <div v-if=\"!previewUrl\">\n            <a-upload :before-upload=\"handleBeforeUpload\" :show-upload-list=\"false\">\n                <a-button>点击上传图片</a-button>\n            </a-upload>\n        </div>\n\n        <div class=\"show\">\n            <!-- 展示上传的图片预览 -->\n            <div v-if=\"previewUrl\" class=\"half-width\">\n                <img :src=\"previewUrl\" alt=\"Preview\" class=\"uploaded-image\" />\n            </div>\n\n            <!-- 展示上传结果 -->\n            <div v-if=\"uploadResult\" class=\"result\">\n                <p>种类: {{ uploadResult.class }}</p>\n                <p>概率: {{ uploadResult.probability }}</p>\n                <p>治疗方法：{{ uploadResult.zhiliao }}</p>\n\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\nimport { Upload, Button, Input } from 'ant-design-vue';\n\nexport default {\n    components: {\n        'a-upload': Upload,\n        'a-button': Button,\n        'a-textarea': Input.TextArea,\n    },\n\n    data() {\n        return {\n            // 上传结果信息\n            //uploadResult: null,\n            // previewUrl: null,\n            uploadButton: true,\n        };\n    },\n    props: {\n        previewUrl: String,\n        uploadResult: Object\n    },\n    methods: {\n        // 上传前的处理\n        handleBeforeUpload(file) {\n            // 使用 FileReader 对象预览图片\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = () => {\n                this.$emit('update:previewUrl', reader.result); // 发送预览图片的事件\n            };\n\n            // 创建 FormData 对象, 并将图片文件添加到以后端预期的字段名 “file” 中\n            const formData = new FormData();\n            formData.append('url', file);\n\n            // 发送 POST 请求，将图片文件上传到 Flask 后端\n            fetch('http://5e7a83bc.r20.cpolar.top', {\n                method: 'POST',\n                body: formData,\n            })\n                .then((response) => {\n                    if (response.ok) {\n                        // 获取后端返回的预测结果\n                        return response.json();\n                    } else {\n                        // 如果请求未成功，则打印错误信息\n                        console.error('上传图片失败');\n                        alert('上传图片失败');\n                        this.uploadResult = null;\n                    }\n                })\n                .then((result) => {\n                    this.$emit('update:uploadResult', result);\n                    //this.uploadResult = result;\n                    console.log('后端响应:', result); // 打印后端响应\n                })\n                .catch((error) => {\n                    console.error('上传图片时出现错误:', error);\n                });\n            // 上传后隐藏按钮\n            this.uploadButton = !this.uploadButton;\n        },\n\n    },\n};\n</script>\n\n<style scoped>\n.half-width {\n    display: flex;\n    width: 100%;\n}\n\n.uploaded-image {\n    max-width: 50%;\n    max-height: 100%;\n    min-width: 250px;\n    height: 250px;\n}\n\n.result {\n    color: red;\n    border: 1px solid red;\n    height: 250px;\n    padding: 10px;\n    min-width: 600px;\n}\n\n.textarea {\n    width: 100%;\n}\n\n.show {\n    display: flex;\n    flex-direction: row;\n\n}\n\np {\n    margin-top: 15px;\n    margin-left: 15px\n}\n</style>","import { render } from \"./Find.vue?vue&type=template&id=10dfcd8e&scoped=true\"\nimport script from \"./Find.vue?vue&type=script&lang=js\"\nexport * from \"./Find.vue?vue&type=script&lang=js\"\n\nimport \"./Find.vue?vue&type=style&index=0&id=10dfcd8e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\比赛项目\\\\client\\\\client\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-10dfcd8e\"]])\n\nexport default __exports__"],"sourceRoot":""}