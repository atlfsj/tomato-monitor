(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-587bda43"],{"66ca":function(e,t,o){},acbb:function(e,t,o){"use strict";o("66ca")},fb68:function(e,t,o){"use strict";o.r(t);var a=o("7a23"),l={key:0},c=Object(a["createTextVNode"])("点击上传图片"),n={class:"show"},r={key:0,class:"half-width"},u=["src"],d={key:1,class:"result"};function i(e,t,o,i,p,s){var b=Object(a["resolveComponent"])("a-button"),j=Object(a["resolveComponent"])("a-upload");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[o.previewUrl?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createVNode"])(j,{"before-upload":s.handleBeforeUpload,"show-upload-list":!1},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])((function(){return[c]})),_:1})]})),_:1},8,["before-upload"])])),Object(a["createElementVNode"])("div",n,[o.previewUrl?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,[Object(a["createElementVNode"])("img",{src:o.previewUrl,alt:"Preview",class:"uploaded-image"},null,8,u)])):Object(a["createCommentVNode"])("",!0),o.uploadResult?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[Object(a["createElementVNode"])("p",null,"种类: "+Object(a["toDisplayString"])(o.uploadResult.class),1),Object(a["createElementVNode"])("p",null,"概率: "+Object(a["toDisplayString"])(o.uploadResult.probability),1),Object(a["createElementVNode"])("p",null,"治疗方法："+Object(a["toDisplayString"])(o.uploadResult.zhiliao),1)])):Object(a["createCommentVNode"])("",!0)])])}o("d3b7");var p=o("39ab"),s=o("5efb"),b=o("b558"),j={components:{"a-upload":p["b"],"a-button":s["a"],"a-textarea":b["a"].TextArea},data:function(){return{uploadButton:!0}},props:{previewUrl:String,uploadResult:Object},methods:{handleBeforeUpload:function(e){var t=this,o=new FileReader;o.readAsDataURL(e),o.onload=function(){t.$emit("update:previewUrl",o.result)};var a=new FormData;a.append("url",e),fetch("http://192.168.1.102:5000",{method:"POST",body:a}).then((function(e){if(e.ok)return e.json();console.error("上传图片失败"),alert("上传图片失败"),t.uploadResult=null})).then((function(e){t.$emit("update:uploadResult",e),console.log("后端响应:",e)})).catch((function(e){console.error("上传图片时出现错误:",e)})),this.uploadButton=!this.uploadButton}}},O=(o("acbb"),o("d959")),f=o.n(O);const m=f()(j,[["render",i],["__scopeId","data-v-2a71f756"]]);t["default"]=m}}]);
//# sourceMappingURL=chunk-587bda43.facbc5d2.js.map